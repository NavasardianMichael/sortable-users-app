(this["webpackJsonpsortable-users-app"]=this["webpackJsonpsortable-users-app"]||[]).push([[0],{20:function(e,t,r){e.exports=r(41)},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(4),c=r.n(l),o=r(3),m=r(2),s=r(16),u=r(18),i=r(1),d={usersToShow:[],currentFilter:"",reversedSort:!1};var f=Object(o.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA/ADD_NEW_USER":return Object(i.a)(Object(i.a)({},e),{},{usersToShow:[].concat(Object(u.a)(e.usersToShow),[t.newUser])});case"DATA/SET_FILTER":var r=e.currentFilter===t.currentFilter&&!e.reversedSort;return Object(i.a)(Object(i.a)({},e),{},{currentFilter:t.currentFilter,reversedSort:r});case"DATA/SORT_USERS":return Object(i.a)(Object(i.a)({},e),{},{usersToShow:e.usersToShow.slice().sort((function(t,r){var a="string"===typeof t[e.currentFilter]?t[e.currentFilter].toLowerCase():t[e.currentFilter],n="string"===typeof r[e.currentFilter]?r[e.currentFilter].toLowerCase():r[e.currentFilter];return!1===e.reversedSort?a<n?-1:n>a?1:0:a>n?-1:n<a?1:0}))});case"DATA/REMOVE_USER":return Object(i.a)(Object(i.a)({},e),{},{usersToShow:e.usersToShow.filter((function(e){return e.id!==t.userId}))});default:return e}}}),b=r(7),N=r(19);function h(e){return function(t){t(function(e){return e.id=Date.now(),{type:"DATA/ADD_NEW_USER",newUser:e}}(e)),t({type:"DATA/SORT_USERS"})}}var E=r(17),p=r.n(E);r(39);var v=function(e){return n.a.createElement(p.a,{required:!0,type:"tel",name:"phoneNumber",className:"form-control",containerClassName:"intl-tel-input w-100",inputClassName:"form-control",id:"phoneNumber",defaultCountry:"am",value:e.currentUser.phoneNumber,onPhoneNumberChange:function(t,r,a){if(/[\D]/.test(r))return!1;e.setCurrentUser((function(e){return Object(i.a)(Object(i.a)({},e),{},{phoneNumber:r})}))},onSelectFlag:function(t,r){e.setCurrentUser((function(e){return Object(i.a)(Object(i.a)({},e),{},{phoneNumber:r.dialCode})}))}})};var g=function(){var e=Object(a.useState)({firstName:"",lastName:"",fullName:"",email:"",birthDate:"",phoneNumber:"",gender:""}),t=Object(N.a)(e,2),r=t[0],l=t[1];function c(e){var t=new Date,r=new Date(e),a=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&(a-=1),a>=0?a:"birth date isn't valid"}Object(a.useEffect)((function(){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{age:c(r.birthDate)})}))}),[r.birthDate]),Object(a.useEffect)((function(){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{fullName:"".concat(e.firstName," ").concat(e.lastName)})}))}),[r.firstName,r.lastName]);var o=Object(m.c)();function s(e){var t=e.target,r=t.name,a=t.value;l((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},r,a))}))}return n.a.createElement("div",{className:"output my-3"},n.a.createElement("h2",null,"Form"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l((function(e){return Object(i.a)(Object(i.a)({},e),{},{fullName:"".concat(e.firstName," ").concat(e.lastName)})})),Object.values(r).includes("")||(o(h(r)),l({firstName:"",lastName:"",fullName:"",email:"",birthDate:"",phoneNumber:"",gender:""}))}},n.a.createElement("h4",{className:"text-center text-secondary my-4"},"Registration form"),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"firstName",className:"text-secondary font-weight-bold"},"Name"),n.a.createElement("input",{required:!0,type:"text",name:"firstName",className:"form-control",id:"firstName",placeholder:"First",value:r.firstName,onChange:s})),n.a.createElement("div",{className:"form-group col-md-6 mt-auto"},n.a.createElement("input",{required:!0,type:"text",name:"lastName",className:"form-control",placeholder:"Last",value:r.lastName,onChange:s}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email",className:"text-secondary font-weight-bold"},"Email"),n.a.createElement("input",{required:!0,type:"email",name:"email",className:"form-control",id:"email",value:r.email,onChange:s})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"phoneNumber",className:"text-secondary font-weight-bold"},"Phone number"),n.a.createElement(v,{currentUser:r,setCurrentUser:l})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"birthDate",className:"text-secondary font-weight-bold"},"Birth date"),n.a.createElement("input",{required:!0,type:"date",name:"birthDate",className:"form-control",id:"birthDate",max:(new Date).toISOString().split("T")[0],value:r.birthDate,onChange:s})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"text-secondary font-weight-bold"},"Gender"),n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{required:!0,className:"form-check-input",type:"radio",name:"gender",id:"male",value:"male",checked:"male"===r.gender,onChange:s}),n.a.createElement("label",{className:"form-check-label",htmlFor:"male"},"Male")),n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{required:!0,className:"form-check-input",type:"radio",name:"gender",id:"female",value:"female",checked:"female"===r.gender,onChange:s}),n.a.createElement("label",{className:"form-check-label",htmlFor:"female"},"Female"))),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Submit")))};var S=function(e){var t=Object(m.c)();return n.a.createElement("tr",null,n.a.createElement("td",null,e.rowIndex),n.a.createElement("td",null,e.user.fullName),n.a.createElement("td",null,e.user.email),n.a.createElement("td",null,e.user.phoneNumber),n.a.createElement("td",null,e.user.age),n.a.createElement("td",null,e.user.gender),n.a.createElement("td",null,n.a.createElement("button",{type:"button",className:"removeBtn btn bg-transparent p-0",onClick:function(){window.confirm("Are you sure you want to remove ".concat(e.user.firstName," ").concat(e.user.lastName," ?"))&&t({type:"DATA/REMOVE_USER",userId:e.user.id})}},n.a.createElement("img",{src:"/sortable-users-app/images/removeIcon.png",alt:"Remove the user ".concat(e.user.fullName),title:"Remove the user ".concat(e.user.fullName)}))))};var w=function(e){var t=Object(m.c)();return n.a.createElement("button",{type:"button",name:e.filterName,className:"filterBtn btn bg-transparent p-0 text-secondary font-weight-bold",onClick:function(e){var r;t((r=e.currentTarget.name,function(e){e(function(e){return{type:"DATA/SET_FILTER",currentFilter:e}}(r)),e({type:"DATA/SORT_USERS"})}))}},e.filterNameAsText,e.currentFilter===e.filterName&&n.a.createElement("img",{src:e.reversedSort?"/sortable-users-app/images/arrowUp.svg":"/sortable-users-app/images/arrowDown.svg",alt:"Sort button for ".concat(e.filterNameAsText),title:"Sort button for ".concat(e.filterNameAsText)}))};var O=Object(m.b)((function(e){return{usersToShow:e.data.usersToShow,currentFilter:e.data.currentFilter,reversedSort:e.data.reversedSort}}),null)((function(e){if(0===e.usersToShow.length)return n.a.createElement("h4",{className:"my-5 text-danger"},"There are no submitted users yet");var t=e.usersToShow.map((function(e,t){return n.a.createElement(S,{user:e,rowIndex:t+1,key:e.firstName[0]+e.lastName[0]+e.email[0]+e.phoneNumber[0]+e.gender[0]+e.birthDate})}));return n.a.createElement("div",{className:"output mt-5"},n.a.createElement("h2",{className:"my-3"},"Output"),n.a.createElement("table",{className:"table text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",{className:"bg-light"},n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},n.a.createElement(w,{filterNameAsText:"First Name",filterName:"fullName",currentFilter:e.currentFilter,reversedSort:e.reversedSort})),n.a.createElement("th",{scope:"col"},n.a.createElement(w,{filterNameAsText:"Email",filterName:"email",currentFilter:e.currentFilter,reversedSort:e.reversedSort})),n.a.createElement("th",{scope:"col"},n.a.createElement(w,{filterNameAsText:"Phone Number",filterName:"phoneNumber",currentFilter:e.currentFilter,reversedSort:e.reversedSort})),n.a.createElement("th",{scope:"col"},n.a.createElement(w,{filterNameAsText:"Age",filterName:"age",currentFilter:e.currentFilter,reversedSort:e.reversedSort})),n.a.createElement("th",null,n.a.createElement(w,{filterNameAsText:"Gender",filterName:"gender",currentFilter:e.currentFilter,reversedSort:e.reversedSort})),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,t)))}));r(40);var F=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement(g,null))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=Object(o.d)(f,Object(o.a)(s.a)),T=n.a.createElement(m.a,{store:y},n.a.createElement(F,null));c.a.render(T,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.e9ef3b62.chunk.js.map